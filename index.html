<!DOCTYPE html>
<html>
  <head>
    <title>SPA</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <meta name="description" content="Demo project with jQuery">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>

    <!-- Inline-css -->
    <style type="text/css">

      body {
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-color: #777;

      }

      #spa {
        position: absolute;
        top: 8px;
        left: 8px;
        bottom: 8px;
        right: 8px;
        border-r: 8px 8px 0 8px;
        background-color: #fff;
      }

      .spa-slider {
        position: absolute;
        bottom: 0;
        right: 2px;
        width: 300px;
        height: 16px;
        cursor: pointer;
        border-radius: 8px 0 0 0;
        background-color: #f00;
      }

    </style>

  <script type="text/javascript">
  /*jslint         browser : true, continue : true,
    devel  : true, indent  : 2,    maxerr   : 50,
    newcap : true, nomen   : true, plusplus : true,
    regexp : true, sloppy  : true, vars     : true,
    white  : true
  */
  /*global jQuery */

  // Module /spa/
  // Provides chat slider capability
  //
  var spa = (function( $ ) {
    // Module scope variables
    var
      // Set constants
      configMap = {
        extended_height: 434,
        extended_title: 'Click to retract',
        retracted_height: 16,
        retracted_title: 'Click to extend',
        template_html: '<div class="spa-slider"/>'
      },

      // Declare all other module scope variables
      $chatSlider, onClickSlider, initModule;

      // DOM method /toggleSlider/
      // alternates slider height
      //
      toggleSlider = function() {
        var
          slider_height = $chatSlider.height();

          // extend slider if fully retracted
          if ( slider_height === configMap.retracted_height ) {
            $chatSlider
                  .animate({ height: configMap.extended_height })
                  .attr('title', configMap.extended_height );
                return true;
          }
          // retract slider if fully extended
          else if( slider_height === configMap.extended_height) {
            $chatSlider
                .animate({ height: configMap.retracted_height})
                .attr( 'title' , configMap.retracted_title);
          }
          // do not take action if slider is in transition
          return false;
      };

      // Prevent handler /onClickSlider/
      // receives click event and and call toggleSlider
      //
      onClickSlider = function( event ) {
        toggleSlider();
        return false;
      };

      // Public method /initModule/
      // sets initial state and provides feature
      //
      initModule = function( $container ) {
        // render HTML
        $container.html( configMap.template_html );

        $chatSlider = $container.find( '.spa-slider' );
        // initialize slider height and title
        // bind the user click event to the event handler
        $chatSlider
              .attr( 'title', configMap.retracted_title )
              .click( onClickSlider );
      };

      return {
        initModule: initModule
      }



  }(jQuery));

var curryLog, logHello, logStayAlive, logGoodBy;
curryLog = function(arg_text) {
  var log_it = function() {console.log(arg_text); };
  return log_it;
};


logHello = curryLog('hello');
logStayAlive = curryLog('staying alive!');
logGoodBy = curryLog('goodBye');
curryLog('fred');

logHello();
logStayAlive();
logGoodBy();
logHello();
delete window.logHello;
delete window.logStayAlive;
logGoodBy();
logStayAlive();

  </script>
  </head>
  <body>
    <div id="spa"></div>
  </body>
</html>
